<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Records - MediFile Doctor Portal</title>
    <meta name="description" content="Healthcare provider portal for MediFile. Access and manage patient medical records, treatment plans, and clinical documentation securely.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', Arial, sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #f4f9fd 100%);
            color: #1e293b;
            margin: 0;
            padding: 0;
        }
        .navbar {
            background: #10b981;
            color: #fff;
            box-shadow: 0 2px 12px rgba(16, 185, 129, 0.08);
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px 24px;
        }
        .nav-logo {
            font-size: 1.7rem;
            font-weight: 800;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .nav-logo i {
            color: #fff;
        }
        .nav-menu {
            list-style: none;
            display: flex;
            gap: 28px;
            margin: 0;
            padding: 0;
        }
        .nav-link {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.05rem;
            transition: color 0.2s;
        }
        .nav-link.active,
        .nav-link:hover {
            color: #064e3b;
        }
        .nav-auth button,
        .nav-auth .btn-secondary {
            margin-left: 12px;
            border: none;
            border-radius: 6px;
            padding: 8px 18px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }
        .btn-secondary {
            background: #fff;
            color: #10b981;
            border: 1.5px solid #10b981;
        }
        .btn-secondary:hover {
            background: #d1fae5;
        }
        /* --- Main doctor portal styles (from your code) --- */
        .doctor-container {
            max-width: 1600px;
            margin: 80px auto 40px;
            padding: 0 20px;
        }
        .doctor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(16,185,129,0.08);
        }
        .doctor-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .doctor-avatar {
            width: 60px;
            height: 60px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 18px;
            font-weight: 600;
        }
        .doctor-details h1 {
            font-size: 24px;
            color: #1e293b;
            margin-bottom: 5px;
        }
        .doctor-meta {
            color: #64748b;
            font-size: 14px;
        }
        .patient-search {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        .search-input {
            padding: 10px 15px;
            border: 1.5px solid #10b981;
            border-radius: 6px;
            width: 300px;
            font-size: 14px;
        }
        .search-input:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px #bae6fd;
        }
        .btn-primary {
            background: #2563eb;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.3s ease;
        }
        .btn-primary:hover {
            background: #1d4ed8;
        }
        .doctor-layout {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 30px;
        }
        .patient-sidebar {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(16,185,129,0.08);
            height: fit-content;
            position: sticky;
            top: 100px;
        }
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #f1f5f9;
        }
        .sidebar-title {
            font-size: 16px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 15px;
        }
        .patient-list {
            max-height: 600px;
            overflow-y: auto;
        }
        .patient-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #f8fafc;
            transition: all 0.3s ease;
        }
        .patient-item:hover {
            background: #f8fafc;
        }
        .patient-item.active {
            background: #eff6ff;
            border-left: 4px solid #2563eb;
        }
        .patient-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 5px;
        }
        .patient-details {
            font-size: 12px;
            color: #64748b;
        }
        .patient-status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 500;
            margin-top: 5px;
        }
        .status-active {
            background: #dcfce7;
            color: #166534;
        }
        .status-scheduled {
            background: #dbeafe;
            color: #1e40af;
        }
        .status-followup {
            background: #fef3c7;
            color: #92400e;
        }
        .main-panel {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(16,185,129,0.08);
            min-height: 800px;
        }
        .panel-header {
            padding: 25px 30px;
            border-bottom: 1px solid #f1f5f9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .patient-info-header {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .patient-photo {
            width: 80px;
            height: 80px;
            background: #e5e7eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #6b7280;
        }
        .patient-info h2 {
            font-size: 24px;
            color: #1e293b;
            margin-bottom: 5px;
        }
        .patient-meta {
            color: #64748b;
            font-size: 14px;
        }
        .panel-actions {
            display: flex;
            gap: 10px;
        }
        .medical-tabs {
            display: flex;
            background: #f8fafc;
            margin: 0 30px;
            border-radius: 8px;
            padding: 4px;
        }
        .medical-tab {
            flex: 1;
            padding: 12px 20px;
            text-align: center;
            background: transparent;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            color: #64748b;
            transition: all 0.3s ease;
        }
        .medical-tab.active {
            background: #10b981;
            color: #fff;
        }
        .tab-content {
            display: none;
            padding: 30px;
        }
        .tab-content.active {
            display: block;
        }
        .clinical-section {
            margin-bottom: 40px;
        }
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e5e7eb;
        }
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .vitals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        .vital-card {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            text-align: center;
        }
        .vital-value {
            font-size: 28px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }
        .vital-label {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 5px;
        }
        .vital-trend {
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        .trend-normal { color: #16a34a; }
        .trend-warning { color: #d97706; }
        .trend-danger { color: #dc2626; }
        .clinical-notes {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .note-meta {
            font-size: 12px;
            color: #64748b;
        }
        .note-content {
            line-height: 1.6;
            color: #374151;
        }
        .diagnosis-list {
            list-style: none;
        }
        .diagnosis-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #10b981;
        }
        .diagnosis-info h4 {
            font-size: 16px;
            color: #1e293b;
            margin-bottom: 5px;
        }
        .diagnosis-code {
            font-size: 12px;
            color: #64748b;
            font-family: monospace;
        }
        .diagnosis-date {
            font-size: 12px;
            color: #64748b;
        }
        .medication-table {
            width: 100%;
            border-collapse: collapse;
        }
        .medication-table th,
        .medication-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        .medication-table th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }
        .medication-table td {
            font-size: 14px;
            color: #64748b;
        }
        .med-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        .status-current {
            background: #dcfce7;
            color: #166534;
        }
        .status-discontinued {
            background: #fee2e2;
            color: #dc2626;
        }
        .lab-results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .lab-card {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e5e7eb;
        }
        .lab-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .lab-title {
            font-weight: 600;
            color: #1e293b;
        }
        .lab-date {
            font-size: 12px;
            color: #64748b;
        }
        .lab-values {
            list-style: none;
        }
        .lab-value {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        .lab-value:last-child {
            border-bottom: none;
        }
        .value-normal { color: #16a34a; }
        .value-abnormal { color: #dc2626; font-weight: 600; }
        .edit-form {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
            display: none;
        }
        .edit-form.active {
            display: block;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        .form-group {
            display: flex;
            flex-direction: column;
        }
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        .form-group label {
            font-weight: 500;
            color: #374151;
            margin-bottom: 5px;
            font-size: 14px;
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 10px;
            border: 1.5px solid #10b981;
            border-radius: 6px;
            font-size: 14px;
        }
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 15px;
        }
        .btn-save {
            background: #16a34a;
            color: #fff;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        .btn-cancel {
            background: #6b7280;
            color: #fff;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        .alert {
            padding: 12px 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #f59e0b;
        }
        .alert-danger {
            background: #fee2e2;
            color: #dc2626;
            border: 1px solid #ef4444;
        }
        @media (max-width: 1024px) {
            .doctor-layout {
                grid-template-columns: 1fr;
            }
            .patient-sidebar {
                position: static;
                margin-bottom: 20px;
            }
            .medical-tabs {
                flex-wrap: wrap;
            }
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-heartbeat"></i>
                <span>MediFile</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="home.html#home" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="medical_history_dr.html" class="nav-link active">Patient Records</a>
                </li>
                <li class="nav-item">
                    <a href="appointments.html" class="nav-link">Appointments</a>
                </li>
                <li class="nav-item">
                    <a href="prescriptions.html" class="nav-link">Prescriptions</a>
                </li>
            </ul>
            <div class="nav-auth">
                <span style="color: #64748b; margin-right: 15px;">Dr. Sarah Johnson</span>
                <button class="btn-secondary" onclick="logout()">Logout</button>
            </div>
        </div>
    </nav>

    <!-- Doctor Portal Container -->
    <div class="doctor-container">
        <!-- Header -->
        <div class="doctor-header">
            <div class="doctor-info">
                <div class="doctor-avatar">SJ</div>
                <div class="doctor-details">
                    <h1>Dr. Sarah Johnson</h1>
                    <div class="doctor-meta">
                        Cardiology • License: MD-12345 • MediFile ID: DOC-001<br>
                        Today's Schedule: 8 patients • 3 pending reviews
                    </div>
                </div>
            </div>
            <div class="patient-search">
                <input type="text" class="search-input" placeholder="Search patients by name or ID..." id="patientSearch">
                <button class="btn-primary" onclick="searchPatients()">
                    <i class="fas fa-search"></i> Search
                </button>
                <button class="btn-secondary" onclick="addNewPatient()">
                    <i class="fas fa-user-plus"></i> Add Patient
                </button>
            </div>
        </div>

        <!-- Main Layout -->
        <div class="doctor-layout">
            <!-- Patient Sidebar -->
            <div class="patient-sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-title">Recent Patients</div>
                </div>
                <div class="patient-list">
                    <div class="patient-item active" onclick="selectPatient('patient-1', this)">
                        <div class="patient-name">John Smith</div>
                        <div class="patient-details">DOB: 01/15/1985 • ID: PT-001</div>
                        <span class="patient-status status-active">Active Treatment</span>
                    </div>
                    <div class="patient-item" onclick="selectPatient('patient-2', this)">
                        <div class="patient-name">Mary Johnson</div>
                        <div class="patient-details">DOB: 03/22/1978 • ID: PT-002</div>
                        <span class="patient-status status-scheduled">Scheduled</span>
                    </div>
                    <div class="patient-item" onclick="selectPatient('patient-3', this)">
                        <div class="patient-name">Robert Wilson</div>
                        <div class="patient-details">DOB: 07/10/1965 • ID: PT-003</div>
                        <span class="patient-status status-followup">Follow-up Due</span>
                    </div>
                    <div class="patient-item" onclick="selectPatient('patient-4', this)">
                        <div class="patient-name">Lisa Chen</div>
                        <div class="patient-details">DOB: 11/05/1992 • ID: PT-004</div>
                        <span class="patient-status status-active">Active Treatment</span>
                    </div>
                    <div class="patient-item" onclick="selectPatient('patient-5', this)">
                        <div class="patient-name">David Brown</div>
                        <div class="patient-details">DOB: 09/18/1955 • ID: PT-005</div>
                        <span class="patient-status status-scheduled">Scheduled</span>
                    </div>
                </div>
            </div>

            <!-- Main Panel -->
            <div class="main-panel">
                <!-- Panel Header -->
                <div class="panel-header">
                    <div class="patient-info-header">
                        <div class="patient-photo">JS</div>
                        <div class="patient-info">
                            <h2 id="currentPatientName">John Smith</h2>
                            <div class="patient-meta" id="currentPatientMeta">
                                Male • 39 years old • DOB: January 15, 1985<br>
                                Insurance: Blue Cross Blue Shield • ID: PT-001 • Emergency: Jane Smith (555) 123-4567
                            </div>
                        </div>
                    </div>
                    <div class="panel-actions">
                        <button class="btn-primary" onclick="addClinicalNote()">
                            <i class="fas fa-notes-medical"></i> Add Note
                        </button>
                        <button class="btn-secondary" onclick="prescribeMedication()">
                            <i class="fas fa-prescription"></i> Prescribe
                        </button>
                        <button class="btn-secondary" onclick="orderLabs()">
                            <i class="fas fa-flask"></i> Order Labs
                        </button>
                    </div>
                </div>

                <!-- Medical Tabs -->
                <div class="medical-tabs">
                    <button class="medical-tab active" onclick="showMedicalTab('overview', this)">Overview</button>
                    <button class="medical-tab" onclick="showMedicalTab('visits', this)">Visits & Notes</button>
                    <button class="medical-tab" onclick="showMedicalTab('medications', this)">Medications</button>
                    <button class="medical-tab" onclick="showMedicalTab('lab-results', this)">Lab Results</button>
                    <button class="medical-tab" onclick="showMedicalTab('diagnostics', this)">Diagnostics</button>
                </div>

                <!-- Overview Tab -->
                <div id="overview" class="tab-content active">
                    <!-- Alerts -->
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>Patient has documented allergy to Penicillin - moderate reaction (skin rash, hives)</span>
                    </div>

                    <!-- Current Vitals -->
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-heartbeat"></i> Current Vital Signs
                            </h3>
                            <button class="btn-secondary" onclick="editVitals()">
                                <i class="fas fa-edit"></i> Update Vitals
                            </button>
                        </div>
                        <div class="vitals-grid">
                            <div class="vital-card">
                                <div class="vital-value">125/82</div>
                                <div class="vital-label">Blood Pressure</div>
                                <div class="vital-trend trend-warning">
                                    <i class="fas fa-arrow-up"></i> Slightly Elevated
                                </div>
                            </div>
                            <div class="vital-card">
                                <div class="vital-value">78</div>
                                <div class="vital-label">Heart Rate (bpm)</div>
                                <div class="vital-trend trend-normal">
                                    <i class="fas fa-check"></i> Normal
                                </div>
                            </div>
                            <div class="vital-card">
                                <div class="vital-value">175</div>
                                <div class="vital-label">Weight (lbs)</div>
                                <div class="vital-trend trend-normal">
                                    <i class="fas fa-arrow-up"></i> +3 lbs since last visit
                                </div>
                            </div>
                            <div class="vital-card">
                                <div class="vital-value">24.8</div>
                                <div class="vital-label">BMI</div>
                                <div class="vital-trend trend-normal">
                                    <i class="fas fa-check"></i> Normal Range
                                </div>
                            </div>
                        </div>
                        
                        <!-- Edit Vitals Form -->
                        <div id="vitalsEditForm" class="edit-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Systolic BP</label>
                                    <input type="number" value="125" id="systolic">
                                </div>
                                <div class="form-group">
                                    <label>Diastolic BP</label>
                                    <input type="number" value="82" id="diastolic">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Heart Rate (bpm)</label>
                                    <input type="number" value="78" id="heartRate">
                                </div>
                                <div class="form-group">
                                    <label>Weight (lbs)</label>
                                    <input type="number" value="175" id="weight">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Temperature (°F)</label>
                                    <input type="number" step="0.1" value="98.6" id="temperature">
                                </div>
                                <div class="form-group">
                                    <label>Oxygen Saturation (%)</label>
                                    <input type="number" value="98" id="oxygenSat">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button class="btn-save" onclick="saveVitals()">Save Changes</button>
                                <button class="btn-cancel" onclick="cancelEditVitals()">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <!-- Current Diagnoses -->
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-stethoscope"></i> Current Diagnoses
                            </h3>
                            <button class="btn-secondary" onclick="addDiagnosis()">
                                <i class="fas fa-plus"></i> Add Diagnosis
                            </button>
                        </div>
                        <ul class="diagnosis-list">
                            <li class="diagnosis-item">
                                <div class="diagnosis-info">
                                    <h4>Essential Hypertension</h4>
                                    <div class="diagnosis-code">ICD-10: I10</div>
                                </div>
                                <div class="diagnosis-date">Since: January 2024</div>
                            </li>
                            <li class="diagnosis-item">
                                <div class="diagnosis-info">
                                    <h4>Hyperlipidemia</h4>
                                    <div class="diagnosis-code">ICD-10: E78.5</div>
                                </div>
                                <div class="diagnosis-date">Since: March 2024</div>
                            </li>
                        </ul>
                    </div>

                    <!-- Recent Notes -->
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-notes-medical"></i> Recent Clinical Notes
                            </h3>
                        </div>
                        <div class="clinical-notes">
                            <div class="note-header">
                                <strong>Annual Physical Examination</strong>
                                <div class="note-meta">March 15, 2025 • Dr. Sarah Johnson</div>
                            </div>
                            <div class="note-content">
                                Patient presents for annual physical exam. Reports feeling well overall with no acute complaints. Blood pressure slightly elevated at 125/82, up from previous reading of 120/80. Weight stable. Discussed lifestyle modifications including reduced sodium intake and increased physical activity. Plan to recheck BP in 4 weeks. All other systems reviewed and normal.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Visits & Notes Tab -->
                <div id="visits" class="tab-content">
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-calendar-alt"></i> Visit History
                            </h3>
                            <button class="btn-primary" onclick="addClinicalNote()">
                                <i class="fas fa-plus"></i> Add Visit Note
                            </button>
                        </div>
                        
                        <div class="clinical-notes">
                            <div class="note-header">
                                <strong>Annual Physical Examination</strong>
                                <div class="note-meta">March 15, 2025 • Dr. Sarah Johnson • Duration: 45 min</div>
                            </div>
                            <div class="note-content">
                                <p><strong>Chief Complaint:</strong> Annual physical examination</p>
                                <p><strong>HPI:</strong> 39-year-old male presents for routine annual physical. Reports overall good health with no specific complaints. Continues to take Lisinopril 10mg daily for hypertension. Denies chest pain, shortness of breath, or palpitations.</p>
                                <p><strong>Physical Exam:</strong> Vital signs as noted. General appearance: well-appearing, alert and oriented. HEENT: normocephalic, atraumatic. CV: RRR, no murmurs. Lungs: clear bilaterally. Abdomen: soft, non-tender. Extremities: no edema.</p>
                                <p><strong>Assessment & Plan:</strong> Continue current medications. Lifestyle counseling provided. Follow-up in 3 months for BP check.</p>
                            </div>
                        </div>

                        <div class="clinical-notes">
                            <div class="note-header">
                                <strong>Follow-up Visit - Hypertension</strong>
                                <div class="note-meta">December 10, 2024 • Dr. Sarah Johnson • Duration: 20 min</div>
                            </div>
                            <div class="note-content">
                                <p><strong>Chief Complaint:</strong> Follow-up for hypertension management</p>
                                <p><strong>HPI:</strong> Patient returns for routine follow-up of essential hypertension. Reports good compliance with Lisinopril. Home BP readings averaging 118/75. No side effects from medication.</p>
                                <p><strong>Assessment & Plan:</strong> HTN well controlled on current regimen. Continue Lisinopril 10mg daily. Return in 3-4 months.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Medications Tab -->
                <div id="medications" class="tab-content">
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-pills"></i> Current Medications
                            </h3>
                            <button class="btn-primary" onclick="prescribeMedication()">
                                <i class="fas fa-plus"></i> Prescribe New
                            </button>
                        </div>
                        
                        <table class="medication-table">
                            <thead>
                                <tr>
                                    <th>Medication</th>
                                    <th>Dosage</th>
                                    <th>Frequency</th>
                                    <th>Prescribed</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Lisinopril</strong></td>
                                    <td>10 mg</td>
                                    <td>Once daily</td>
                                    <td>Jan 15, 2024</td>
                                    <td><span class="med-status status-current">Current</span></td>
                                    <td>
                                        <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px;" onclick="editMedication('med-1')">Edit</button>
                                        <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px;" onclick="renewMedication('med-1')">Renew</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Vitamin D3</strong></td>
                                    <td>2000 IU</td>
                                    <td>Once daily</td>
                                    <td>Feb 1, 2024</td>
                                    <td><span class="med-status status-current">Current</span></td>
                                    <td>
                                        <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px;" onclick="editMedication('med-2')">Edit</button>
                                        <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px;" onclick="renewMedication('med-2')">Renew</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>Amoxicillin</strong></td>
                                    <td>500 mg</td>
                                    <td>Three times daily</td>
                                    <td>Jan 5, 2025</td>
                                    <td><span class="med-status status-discontinued">Completed</span></td>
                                    <td>
                                        <button class="btn-secondary" style="padding: 4px 8px; font-size: 12px;" onclick="viewMedication('med-3')">View</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Lab Results Tab -->
                <div id="lab-results" class="tab-content">
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-flask"></i> Laboratory Results
                            </h3>
                            <button class="btn-primary" onclick="orderLabs()">
                                <i class="fas fa-plus"></i> Order New Labs
                            </button>
                        </div>
                        
                        <div class="lab-results-grid">
                            <div class="lab-card">
                                <div class="lab-header">
                                    <div class="lab-title">Complete Blood Count</div>
                                    <div class="lab-date">Feb 28, 2025</div>
                                </div>
                                <ul class="lab-values">
                                    <li class="lab-value">
                                        <span>WBC</span>
                                        <span class="value-normal">6.2 K/μL</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>RBC</span>
                                        <span class="value-normal">4.5 M/μL</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>Hemoglobin</span>
                                        <span class="value-normal">14.2 g/dL</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>Hematocrit</span>
                                        <span class="value-normal">42.1%</span>
                                    </li>
                                </ul>
                            </div>

                            <div class="lab-card">
                                <div class="lab-header">
                                    <div class="lab-title">Lipid Panel</div>
                                    <div class="lab-date">Feb 28, 2025</div>
                                </div>
                                <ul class="lab-values">
                                    <li class="lab-value">
                                        <span>Total Cholesterol</span>
                                        <span class="value-abnormal">220 mg/dL ↑</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>LDL</span>
                                        <span class="value-abnormal">140 mg/dL ↑</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>HDL</span>
                                        <span class="value-normal">52 mg/dL</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>Triglycerides</span>
                                        <span class="value-normal">135 mg/dL</span>
                                    </li>
                                </ul>
                            </div>

                            <div class="lab-card">
                                <div class="lab-header">
                                    <div class="lab-title">Basic Metabolic Panel</div>
                                    <div class="lab-date">Feb 28, 2025</div>
                                </div>
                                <ul class="lab-values">
                                    <li class="lab-value">
                                        <span>Glucose</span>
                                        <span class="value-normal">92 mg/dL</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>Creatinine</span>
                                        <span class="value-normal">1.0 mg/dL</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>eGFR</span>
                                        <span class="value-normal">>90</span>
                                    </li>
                                    <li class="lab-value">
                                        <span>Sodium</span>
                                        <span class="value-normal">140 mEq/L</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Diagnostics Tab -->
                <div id="diagnostics" class="tab-content">
                    <div class="clinical-section">
                        <div class="section-header">
                            <h3 class="section-title">
                                <i class="fas fa-x-ray"></i> Diagnostic Studies
                            </h3>
                            <button class="btn-primary" onclick="orderDiagnostic()">
                                <i class="fas fa-plus"></i> Order Study
                            </button>
                        </div>
                        
                        <div class="record-grid" style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));">
                            <div class="record-card">
                                <div class="record-header">
                                    <div>
                                        <div class="record-title">Chest X-Ray</div>
                                        <div class="record-date">January 20, 2025 • Radiology Dept</div>
                                    </div>
                                </div>
                                <div class="record-content">
                                    <p><strong>Indication:</strong> Routine screening</p>
                                    <p><strong>Findings:</strong> Normal heart size and pulmonary vasculature. Clear lung fields bilaterally. No acute cardiopulmonary abnormalities.</p>
                                    <p><strong>Impression:</strong> Normal chest radiograph</p>
                                </div>
                                <div class="record-actions">
                                    <button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">View Images</button>
                                    <button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">Download Report</button>
                                </div>
                            </div>

                            <div class="record-card">
                                <div class="record-header">
                                    <div>
                                        <div class="record-title">ECG</div>
                                        <div class="record-date">March 15, 2025 • Cardiology</div>
                                    </div>
                                </div>
                                <div class="record-content">
                                    <p><strong>Indication:</strong> Annual physical, hypertension monitoring</p>
                                    <p><strong>Findings:</strong> Normal sinus rhythm at 78 bpm. Normal axis. No ST-T wave abnormalities. No signs of left ventricular hypertrophy.</p>
                                    <p><strong>Impression:</strong> Normal 12-lead ECG</p>
                                </div>
                                <div class="record-actions">
                                    <button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">View Tracing</button>
                                    <button class="btn-secondary" style="padding: 6px 12px; font-size: 12px;">Download Report</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include the main script for navigation and modals -->
    <script src="script.js"></script>
    
    <script>
        // Patient data
        const patients = {
            'patient-1': {
                name: 'John Smith',
                meta: 'Male • 39 years old • DOB: January 15, 1985<br>Insurance: Blue Cross Blue Shield • ID: PT-001 • Emergency: Jane Smith (555) 123-4567'
            },
            'patient-2': {
                name: 'Mary Johnson',
                meta: 'Female • 47 years old • DOB: March 22, 1978<br>Insurance: Aetna • ID: PT-002 • Emergency: Tom Johnson (555) 234-5678'
            },
            'patient-3': {
                name: 'Robert Wilson',
                meta: 'Male • 59 years old • DOB: July 10, 1965<br>Insurance: Medicare • ID: PT-003 • Emergency: Susan Wilson (555) 345-6789'
            }
        };

        // Tab switching
        function showMedicalTab(tabId, tabElement) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.medical-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab and mark as active
            document.getElementById(tabId).classList.add('active');
            tabElement.classList.add('active');
        }

        // Patient selection
        function selectPatient(patientId, element) {
            // Remove active class from all patient items
            document.querySelectorAll('.patient-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Add active class to selected patient
            element.classList.add('active');
            
            // Update patient info in header
            if (patients[patientId]) {
                document.getElementById('currentPatientName').textContent = patients[patientId].name;
                document.getElementById('currentPatientMeta').innerHTML = patients[patientId].meta;
                
                // Update patient photo initials
                const initials = patients[patientId].name.split(' ').map(n => n[0]).join('');
                document.querySelector('.patient-photo').textContent = initials;
            }
        }

        // Vitals editing
        function editVitals() {
            document.getElementById('vitalsEditForm').classList.add('active');
        }

        function cancelEditVitals() {
            document.getElementById('vitalsEditForm').classList.remove('active');
        }

        function saveVitals() {
            const systolic = document.getElementById('systolic').value;
            const diastolic = document.getElementById('diastolic').value;
            const heartRate = document.getElementById('heartRate').value;
            const weight = document.getElementById('weight').value;
            
            showNotification('Vital signs updated successfully!', 'success');
            cancelEditVitals();
        }

        // Clinical actions
        function addClinicalNote() {
            showNotification('Opening clinical note editor...', 'info');
        }

        function prescribeMedication() {
            showNotification('Redirecting to prescription system...', 'info');
            setTimeout(() => {
                window.location.href = 'prescriptions.html';
            }, 1000);
        }

        function orderLabs() {
            showNotification('Opening laboratory order form...', 'info');
        }

        function orderDiagnostic() {
            showNotification('Opening diagnostic study order form...', 'info');
        }

        function addDiagnosis() {
            showNotification('Opening diagnosis entry form...', 'info');
        }

        // Medication management
        function editMedication(medId) {
            showNotification(`Opening medication editor for ${medId}...`, 'info');
        }

        function renewMedication(medId) {
            showNotification(`Renewing prescription for ${medId}...`, 'info');
        }

        function viewMedication(medId) {
            showNotification(`Viewing medication details for ${medId}...`, 'info');
        }

        // Patient management
        function searchPatients() {
            const query = document.getElementById('patientSearch').value;
            if (query.trim()) {
                showNotification(`Searching for patients matching "${query}"...`, 'info');
            } else {
                showNotification('Please enter a search term', 'warning');
            }
        }

        function addNewPatient() {
            showNotification('Opening new patient registration form...', 'info');
        }

        function logout() {
            showNotification('Logging out...', 'info');
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        }

        // Initialize search functionality
        document.getElementById('patientSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPatients();
            }
        });
    </script>
</body>
</html>